# =============================================================================
# PRODUCTION ENVIRONMENT VARIABLES FOR DOKPLOY DEPLOYMENT
# =============================================================================
# Copy this file to .env.production and fill in your actual values
# DO NOT commit .env.production to version control!

# =============================================================================
# DATABASE (REQUIRED)
# =============================================================================
# Use your Neon, Supabase, or other PostgreSQL database URL
NEXT_PRIVATE_DATABASE_URL="postgresql://user:password@host:5432/database?sslmode=require"
NEXT_PRIVATE_DIRECT_DATABASE_URL="postgresql://user:password@host:5432/database?sslmode=require"

# =============================================================================
# APPLICATION URLS (REQUIRED)
# =============================================================================
# Your public domain
NEXT_PUBLIC_WEBAPP_URL="https://yourdomain.com"
# Internal URL (usually same as public or localhost)
NEXT_PRIVATE_INTERNAL_WEBAPP_URL="http://localhost:3000"

# =============================================================================
# SECURITY (REQUIRED)
# =============================================================================
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-nextauth-secret-here-min-32-chars"
NEXT_PRIVATE_ENCRYPTION_KEY="your-encryption-key-here-32-chars"
NEXT_PRIVATE_ENCRYPTION_SECONDARY_KEY="your-secondary-key-here-32-chars"

# =============================================================================
# EMAIL CONFIGURATION (REQUIRED)
# =============================================================================
# Choose ONE of the following email providers:

# --- Option 1: Gmail ---
# NEXT_PRIVATE_SMTP_HOST="smtp.gmail.com"
# NEXT_PRIVATE_SMTP_PORT="587"
# NEXT_PRIVATE_SMTP_USERNAME="your-email@gmail.com"
# NEXT_PRIVATE_SMTP_PASSWORD="your-app-password"
# NEXT_PRIVATE_SMTP_FROM_NAME="Your App Name"
# NEXT_PRIVATE_SMTP_FROM_ADDRESS="noreply@yourdomain.com"

# --- Option 2: SendGrid ---
# NEXT_PRIVATE_SMTP_HOST="smtp.sendgrid.net"
# NEXT_PRIVATE_SMTP_PORT="587"
# NEXT_PRIVATE_SMTP_USERNAME="apikey"
# NEXT_PRIVATE_SMTP_PASSWORD="your-sendgrid-api-key"
# NEXT_PRIVATE_SMTP_FROM_NAME="Your App Name"
# NEXT_PRIVATE_SMTP_FROM_ADDRESS="noreply@yourdomain.com"

# --- Option 3: Resend (Recommended) ---
NEXT_PRIVATE_SMTP_TRANSPORT="resend"
NEXT_PRIVATE_RESEND_API_KEY="re_your_api_key_here"
NEXT_PRIVATE_SMTP_FROM_NAME="Your App Name"
NEXT_PRIVATE_SMTP_FROM_ADDRESS="noreply@yourdomain.com"

# =============================================================================
# DOCUMENT SIGNING (OPTIONAL but recommended)
# =============================================================================
# Local file signing (mount cert.p12 to /app/cert.p12 in Dokploy)
NEXT_PRIVATE_SIGNING_TRANSPORT="local"
NEXT_PRIVATE_SIGNING_LOCAL_FILE_PATH="/app/cert.p12"
NEXT_PRIVATE_SIGNING_PASSPHRASE="your-certificate-password"

# OR use Google Cloud HSM (enterprise)
# NEXT_PRIVATE_SIGNING_TRANSPORT="gcloud-hsm"
# NEXT_PRIVATE_SIGNING_GCLOUD_HSM_KEY_PATH="projects/xxx/locations/xxx/keyRings/xxx/cryptoKeys/xxx"
# NEXT_PRIVATE_SIGNING_GCLOUD_APPLICATION_CREDENTIALS_CONTENTS="base64-encoded-service-account-json"

# =============================================================================
# FILE STORAGE (OPTIONAL - defaults to local)
# =============================================================================
# Local storage (default)
NEXT_PUBLIC_UPLOAD_TRANSPORT="local"

# OR use S3-compatible storage
# NEXT_PUBLIC_UPLOAD_TRANSPORT="s3"
# NEXT_PRIVATE_UPLOAD_ENDPOINT="https://s3.amazonaws.com"
# NEXT_PRIVATE_UPLOAD_REGION="us-east-1"
# NEXT_PRIVATE_UPLOAD_BUCKET="your-bucket-name"
# NEXT_PRIVATE_UPLOAD_ACCESS_KEY_ID="your-access-key"
# NEXT_PRIVATE_UPLOAD_SECRET_ACCESS_KEY="your-secret-key"

# =============================================================================
# FEATURES (OPTIONAL)
# =============================================================================
# Enable/disable features
NEXT_PUBLIC_FEATURE_BILLING_ENABLED="false"
NEXT_PUBLIC_DISABLE_SIGNUP="false"
NEXT_PUBLIC_DOCUMENT_SIZE_UPLOAD_LIMIT="10485760"

# =============================================================================
# ANALYTICS (OPTIONAL)
# =============================================================================
# PostHog analytics
# NEXT_PUBLIC_POSTHOG_KEY="your-posthog-key"

# =============================================================================
# OAUTH PROVIDERS (OPTIONAL)
# =============================================================================
# Google OAuth
# NEXT_PRIVATE_GOOGLE_CLIENT_ID="your-google-client-id"
# NEXT_PRIVATE_GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Generic OIDC
# NEXT_PRIVATE_OIDC_WELL_KNOWN="https://your-oidc-provider/.well-known/openid-configuration"
# NEXT_PRIVATE_OIDC_CLIENT_ID="your-client-id"
# NEXT_PRIVATE_OIDC_CLIENT_SECRET="your-client-secret"
# NEXT_PRIVATE_OIDC_PROVIDER_LABEL="Sign in with SSO"

# =============================================================================
# BILLING (OPTIONAL)
# =============================================================================
# Stripe
# NEXT_PRIVATE_STRIPE_API_KEY="sk_test_xxx"
# NEXT_PRIVATE_STRIPE_WEBHOOK_SECRET="whsec_xxx"

# =============================================================================
# ADVANCED (OPTIONAL)
# =============================================================================
# Redis for caching
# REDIS_URL="redis://localhost:6379"

# Custom domain for cookies
# COOKIE_DOMAIN=".yourdomain.com"

# Allowed origins (comma-separated)
# ALLOWED_ORIGINS="https://yourdomain.com,https://www.yourdomain.com"

# Telemetry
SIGNTUSK_DISABLE_TELEMETRY="true"

# Node environment
NODE_ENV="production"
