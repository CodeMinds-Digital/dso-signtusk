# =============================================================================
# NETLIFY ENVIRONMENT VARIABLES FOR REMIX APP (apps/remix)
# Copy these to your Netlify remix app site's environment variables section
# =============================================================================

# =============================================================================
# BUILD CONFIGURATION
# =============================================================================
NODE_ENV=production
NODE_VERSION=22
NPM_VERSION=10.7.0
NPM_FLAGS=--include=dev

# Build optimization
TURBO_TELEMETRY_DISABLED=1
NETLIFY_CACHE_ENABLED=true
NETLIFY_BUILD_DEBUG=false

# Dependency management
SKIP_PATCHES=false
INSTALL_PLAYWRIGHT=false

# =============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# =============================================================================
# Primary database connection for Prisma
DATABASE_URL=postgresql://username:password@host.example.com:5432/database?sslmode=require
# Direct connection for migrations (bypasses connection pooling)
POSTGRES_PRISMA_URL=postgresql://username:password@host.example.com:5432/database?sslmode=require
NEXT_PRIVATE_DATABASE_URL=postgresql://username:password@host.example.com:5432/database?sslmode=require
NEXT_PRIVATE_DIRECT_DATABASE_URL=postgresql://username:password@host.example.com:5432/database?sslmode=require

# =============================================================================
# AUTHENTICATION (REQUIRED)
# =============================================================================
# NextAuth.js secret - Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-32-characters-minimum
# JWT signing secret - Generate with: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-32-characters-minimum
# Application encryption keys - Generate with: openssl rand -hex 32
NEXT_PRIVATE_ENCRYPTION_KEY=your-encryption-key-32-characters-minimum
NEXT_PRIVATE_ENCRYPTION_SECONDARY_KEY=your-secondary-encryption-key-32-characters
ENCRYPTION_KEY=your-legacy-encryption-key-32-characters
SESSION_SECRET=your-session-secret-32-characters

# =============================================================================
# APPLICATION URLS (REQUIRED)
# =============================================================================
NEXT_PUBLIC_PROJECT=signtusk
NEXT_PUBLIC_WEBAPP_URL=https://app.yourdomain.com
NEXT_PUBLIC_MARKETING_URL=https://yourdomain.com
NEXT_PUBLIC_DOCS_URL=https://docs.yourdomain.com
NEXT_PRIVATE_INTERNAL_WEBAPP_URL=https://app.yourdomain.com

# Legacy URL support
NEXT_PUBLIC_APP_URL=https://app.yourdomain.com
NEXT_PUBLIC_API_URL=https://app.yourdomain.com/api

# =============================================================================
# FILE STORAGE CONFIGURATION (REQUIRED)
# =============================================================================
# Storage transport: database | s3
NEXT_PUBLIC_UPLOAD_TRANSPORT=s3
NEXT_PRIVATE_UPLOAD_BUCKET=your-s3-bucket-name
NEXT_PRIVATE_UPLOAD_REGION=us-east-1
NEXT_PRIVATE_UPLOAD_ACCESS_KEY_ID=your-aws-access-key-id
NEXT_PRIVATE_UPLOAD_SECRET_ACCESS_KEY=your-aws-secret-access-key

# S3-compatible providers (Optional)
NEXT_PRIVATE_UPLOAD_ENDPOINT=https://s3.amazonaws.com
NEXT_PRIVATE_UPLOAD_FORCE_PATH_STYLE=false

# Legacy storage configuration
STORAGE_PROVIDER=s3
STORAGE_PATH=./uploads

# =============================================================================
# EMAIL CONFIGURATION (REQUIRED)
# =============================================================================
# Email transport: smtp-auth | smtp-api | resend | mailchannels
NEXT_PRIVATE_SMTP_TRANSPORT=resend

# Resend configuration (Recommended)
NEXT_PRIVATE_RESEND_API_KEY=re_your_resend_api_key

# SMTP configuration (Alternative)
NEXT_PRIVATE_SMTP_HOST=smtp.gmail.com
NEXT_PRIVATE_SMTP_PORT=587
NEXT_PRIVATE_SMTP_USERNAME=your-email@gmail.com
NEXT_PRIVATE_SMTP_PASSWORD=your-app-password
NEXT_PRIVATE_SMTP_SECURE=true
NEXT_PRIVATE_SMTP_UNSAFE_IGNORE_TLS=false

# Email sender configuration
NEXT_PRIVATE_SMTP_FROM_NAME=Signtusk
NEXT_PRIVATE_SMTP_FROM_ADDRESS=noreply@yourdomain.com

# Legacy email configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@yourdomain.com

# =============================================================================
# DOCUMENT SIGNING CONFIGURATION (REQUIRED)
# =============================================================================
# Signing transport: local | gcloud-hsm
NEXT_PRIVATE_SIGNING_TRANSPORT=local
NEXT_PRIVATE_SIGNING_PASSPHRASE=your-signing-passphrase
# Base64-encoded .p12 certificate file contents
NEXT_PRIVATE_SIGNING_LOCAL_FILE_CONTENTS=your-base64-encoded-p12-contents

# Google Cloud HSM (Alternative)
NEXT_PRIVATE_SIGNING_GCLOUD_HSM_KEY_PATH=projects/your-project/locations/global/keyRings/your-ring/cryptoKeys/your-key
NEXT_PRIVATE_SIGNING_GCLOUD_HSM_PUBLIC_CRT_FILE_CONTENTS=your-base64-encoded-certificate
NEXT_PRIVATE_SIGNING_GCLOUD_APPLICATION_CREDENTIALS_CONTENTS=your-base64-encoded-service-account-json

# =============================================================================
# BILLING & PAYMENTS (OPTIONAL)
# =============================================================================
# Stripe configuration
NEXT_PRIVATE_STRIPE_API_KEY=sk_live_your_stripe_secret_key
NEXT_PRIVATE_STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your_publishable_key

# Legacy Stripe configuration
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# =============================================================================
# OAUTH PROVIDERS (OPTIONAL)
# =============================================================================
# Google OAuth
NEXT_PRIVATE_GOOGLE_CLIENT_ID=your-google-client-id
NEXT_PRIVATE_GOOGLE_CLIENT_SECRET=your-google-client-secret

# Microsoft OAuth
NEXT_PRIVATE_MICROSOFT_CLIENT_ID=your-microsoft-client-id
NEXT_PRIVATE_MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# Generic OIDC
NEXT_PRIVATE_OIDC_WELL_KNOWN=https://your-oidc-provider/.well-known/openid_configuration
NEXT_PRIVATE_OIDC_CLIENT_ID=your-oidc-client-id
NEXT_PRIVATE_OIDC_CLIENT_SECRET=your-oidc-client-secret
NEXT_PRIVATE_OIDC_PROVIDER_LABEL=OIDC
NEXT_PRIVATE_OIDC_SKIP_VERIFY=false
NEXT_PRIVATE_OIDC_PROMPT=login

# =============================================================================
# ANALYTICS & MONITORING (OPTIONAL)
# =============================================================================
# PostHog Analytics
NEXT_PUBLIC_POSTHOG_KEY=phc_your_posthog_project_key
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# =============================================================================
# FEATURE FLAGS (OPTIONAL)
# =============================================================================
NEXT_PUBLIC_FEATURE_BILLING_ENABLED=true
NEXT_PUBLIC_FEATURE_WEBHOOKS_ENABLED=true
NEXT_PUBLIC_DISABLE_SIGNUP=false
NEXT_PUBLIC_DOCUMENT_SIZE_UPLOAD_LIMIT=5

# =============================================================================
# BACKGROUND JOBS (OPTIONAL)
# =============================================================================
# Jobs provider: local | inngest
NEXT_PRIVATE_JOBS_PROVIDER=local
NEXT_PRIVATE_INNGEST_EVENT_KEY=your-inngest-event-key

# =============================================================================
# REDIS CACHE (OPTIONAL)
# =============================================================================
REDIS_URL=redis://your-redis-host:6379

# =============================================================================
# AI SERVICES (OPTIONAL)
# =============================================================================
# Google Vertex AI
GOOGLE_VERTEX_PROJECT_ID=your-google-cloud-project-id
GOOGLE_VERTEX_LOCATION=global
GOOGLE_VERTEX_API_KEY=your-vertex-ai-api-key

# =============================================================================
# SUPPORT & CUSTOMER SERVICE (OPTIONAL)
# =============================================================================
NEXT_PRIVATE_PLAIN_API_KEY=your-plain-api-key

# =============================================================================
# SECURITY & COMPLIANCE (PRODUCTION)
# =============================================================================
# Webhook security
WEBHOOK_SECRET=your-webhook-secret-32-characters

# Rate limiting
RATE_LIMIT_ENABLED=true

# Telemetry (set to true to disable)
SIGNTUSK_DISABLE_TELEMETRY=false

# =============================================================================
# PDF GENERATION (OPTIONAL)
# =============================================================================
# PDF generation method: server-side | external
PDF_GENERATION_METHOD=server-side
PDF_EXTERNAL_SERVICE_URL=https://your-pdf-service.com

# =============================================================================
# DEPLOYMENT CONTEXT VARIABLES
# =============================================================================
# These are automatically set by Netlify but can be overridden
# CONTEXT=production|deploy-preview|branch-deploy
# DEPLOY_PRIME_URL=https://your-deploy-url.netlify.app
# URL=https://your-site.netlify.app

# =============================================================================
# NOTES FOR CONFIGURATION:
# =============================================================================
# 1. Replace all placeholder values with your actual credentials
# 2. Generate secure random strings for all secrets (minimum 32 characters)
# 3. Use environment-specific database URLs for staging vs production
# 4. Test all integrations in deploy preview before production
# 5. Store sensitive values using Netlify's environment variable UI
# 6. Regularly rotate API keys and secrets
# 7. Use different S3 buckets for different environments